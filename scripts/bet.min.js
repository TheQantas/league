function signOut(){ws.send(JSON.stringify({method:"userSignOut",token:getCookie("userToken")}))}function changePage(e){var t=document.getElementsByClassName("page");for(let e of t)e.style.display="none";t[e].style.display="block";var n=document.getElementById("navCont").children;for(let e of n)e.style.textDecoration="none";n[e].style.textDecoration="underline"}function error(e){let t=document.getElementById("errorCont");t.style.display="flex",t.children[0].textContent=e,setTimeout(function(){t.style.display="none"},3e3)}function makeBet(e,t){if(e.classList.contains("selected")||e.classList.contains("notselected"))return void error("You have already bet on this game");console.log(e,t);let n={method:"makeBet",token:getCookie("userToken"),type:t};n.cat="away"==t||"home"==t?"win":"cover",console.log(n.cat);var o=e.parentElement.parentElement;n.away=o.getAttribute("data-away"),n.home=o.getAttribute("data-home"),ws.send(JSON.stringify(n))}function styleBet(e){balance-=e.amount;var t=`You Have ${numberWithCommas(balance)} Tokens - <wbr>All Bets Cost ${numberWithCommas(cost)} Tokens`;document.getElementById("balance").innerHTML=t;var n=document.getElementsByClassName("box");for(let t of n)if(t.getAttribute("data-away")==e.away&&t.getAttribute("data-home")==e.home){if(e.index>0){e.index--;continue}console.log(t),t.children[1].children[e.opt].classList.add("selected"),t.children[1].children[1-e.opt].classList.add("notselected");break}}window.onload=(()=>{balance=Number(document.getElementById("balance").getAttribute("data-bal")),cost=Number(document.getElementById("balance").getAttribute("data-cost"))}),ws.onmessage=(e=>{const t=JSON.parse(e.data);if(console.log(t),"error"==t.method&&"505"==t.type)return location.reload(),!1;"error"==t.method?error(t.mess):"madeBet"==t.method&&styleBet(t)});